(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{596:function(t,a,s){"use strict";s.r(a);var n=s(7),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"一、参数使用与编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、参数使用与编程"}},[t._v("#")]),t._v(" 一、参数使用与编程")]),t._v(" "),s("h3",{attrs:{id:"_1-1参数模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1参数模型"}},[t._v("#")]),t._v(" 1.1参数模型")]),t._v(" "),s("p",[t._v("在ROS系统中有一个参数服务器（Parameter Server），其作为一个全局字典，保存各个节点的配置参数")]),t._v(" "),s("p",[t._v("可以将Parameter Server理解成一个存储全局变量的存储空间")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/07/30/ehu2lnDACUS7PxF.png",alt:"2021-07-30 11-27-47 的屏幕截图.png"}}),t._v(" "),s("h3",{attrs:{id:"_1-2创建功能包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2创建功能包"}},[t._v("#")]),t._v(" 1.2创建功能包")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/07/30/a2Bt1Rx6c8S4EWA.png",alt:"2021-07-30 11-40-15 的屏幕截图.png"}}),t._v(" "),s("h3",{attrs:{id:"_1-3parameter命令行使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3parameter命令行使用"}},[t._v("#")]),t._v(" 1.3Parameter命令行使用")]),t._v(" "),s("p",[t._v("如果参数比较多的情况，会使用一个YAML文件用于保存参数，避免了一个个对参数进行设定")]),t._v(" "),s("p",[t._v("后续直接读取该文件即可以一次性保存所有参数进入系统，如下所示：")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://i.loli.net/2021/07/30/vsNh6rouaHZUbyt.png",alt:"2021-07-30 11-55-23 的屏幕截图.png"}}),t._v(" "),s("p",[s("code",[t._v("rosparam")]),t._v("命令行工具的使用")]),t._v(" "),s("ul",[s("li",[t._v("列出系统当前多个参数")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("rosparam list\n")])])]),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/07/30/tXaQZoVWSBGhYJU.png",alt:"2021-07-30 11-58-30 的屏幕截图.png"}})]),t._v(" "),s("ul",[s("li",[t._v("显示某个参数")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("rosparam get ***"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("参数名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/07/30/WNykMgKmG7ePnR2.png",alt:"2021-07-30 12-00-45 的屏幕截图.png"}})]),t._v(" "),s("ul",[s("li",[t._v("设置某个参数")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("rosparam "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" ***"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("参数名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ***"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("设定参数"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/07/30/s6JXuyIQkgh8xNw.png",alt:"2021-07-30 12-03-37 的屏幕截图.png"}})]),t._v(" "),s("p",[t._v("完成设定后，参数进行修改，如本案例中的海龟模拟器背景颜色发生改变：")]),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://i.loli.net/2021/07/30/h1mjxNCeXGs4wz6.png",alt:"2021-07-30 12-05-29 的屏幕截图.png"}}),t._v(" "),s("ul",[s("li",[t._v("保存参数到文件")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("rosparam dump ***"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("文件名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/07/30/foF2YyNKsMCdaRv.png",alt:"2021-07-30 12-07-49 的屏幕截图.png"}})]),t._v(" "),s("p",[t._v("使用该命令后则在命令行当前文件目录下生成一个保存参数的文件")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/07/30/ZrfWGRkaiUE8StJ.png",alt:"2021-07-30 12-08-42 的屏幕截图.png"}})]),t._v(" "),s("ul",[s("li",[t._v("从文件读取参数")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("rosparam load ***"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("文件名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[t._v("删除参数")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("rosparam delete ***"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("参数名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"_1-4编程实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4编程实现"}},[t._v("#")]),t._v(" 1.4编程实现")]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('/**\n * 该例程设置/读取海龟例程中的参数\n */\n#include <string>\n#include <ros/ros.h>\n#include <std_srvs/Empty.h>\n\nint main(int argc, char **argv)\n{\n\tint red, green, blue;\n    // ROS节点初始化\n    ros::init(argc, argv, "parameter_config");\n    // 创建节点句柄\n    ros::NodeHandle node;\n    // 读取背景颜色参数\n\tros::param::get("/background_r", red);\n\tros::param::get("/background_g", green);\n\tros::param::get("/background_b", blue);\n\tROS_INFO("Get Backgroud Color[%d, %d, %d]", red, green, blue);\n\t// 设置背景颜色参数\n\tros::param::set("/background_r", 255);\n\tros::param::set("/background_g", 255);\n\tros::param::set("/background_b", 255);\n\tROS_INFO("Set Backgroud Color[255, 255, 255]");\n    // 读取背景颜色参数\n\tros::param::get("/background_r", red);\n\tros::param::get("/background_g", green);\n\tros::param::get("/background_b", blue);\n\tROS_INFO("Re-get Backgroud Color[%d, %d, %d]", red, green, blue);\n\t// 调用服务，刷新背景颜色\n\tros::service::waitForService("/clear");\n\tros::ServiceClient clear_background = node.serviceClient<std_srvs::Empty>("/clear");\n\tstd_srvs::Empty srv;\n\tclear_background.call(srv);\n\tsleep(1);\n    return 0;\n}\n')])])]),s("p",[t._v("程序较为简单，调用一个API接口即可以实现对参数的get和set")]),t._v(" "),s("ul",[s("li",[t._v("通过参数名获取参数值并保存至变量："),s("code",[t._v('ros::param::get("/background_r", red);')])]),t._v(" "),s("li",[t._v("配置参数："),s("code",[t._v('ros::param::set("/background_r", 255);')])]),t._v(" "),s("li",[t._v("刷新服务：")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 调用服务，刷新背景颜色\nros::service::waitForService("/clear");\nros::ServiceClient clear_background = node.serviceClient<std_srvs::Empty>("/clear");\nstd_srvs::Empty srv;\nclear_background.call(srv);\n')])])]),s("h3",{attrs:{id:"_1-5配置编译规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5配置编译规则"}},[t._v("#")]),t._v(" 1.5配置编译规则")]),t._v(" "),s("div",{staticClass:"language-cmake extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cmake"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_executable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parameter_config src/parameter_config.cpp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parameter_config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("catkin_LIBRARIES"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"_1-6编译运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6编译运行"}},[t._v("#")]),t._v(" 1.6编译运行")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/07/30/WwPgrdnI2lt7oqx.png",alt:"2021-07-30 12-21-47 的屏幕截图.png"}}),t._v(" "),s("p",[t._v("结果如下所示：")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://i.loli.net/2021/07/30/tcuUgn1AaSdQ6MH.png",alt:"2021-07-30 12-25-22 的屏幕截图.png"}}),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://i.loli.net/2021/07/30/okTEsVg9yzXQ1Ob.png",alt:"2021-07-30 12-25-35 的屏幕截图.png"}}),t._v(" "),s("h2",{attrs:{id:"二、ros中坐标管理系统tf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、ros中坐标管理系统tf"}},[t._v("#")]),t._v(" 二、ROS中坐标管理系统TF")]),t._v(" "),s("h3",{attrs:{id:"_2-1概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1概念"}},[t._v("#")]),t._v(" 2.1概念")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/07/29/SYKwUAOMNB6uR8p.png",alt:"2021-07-29 15-15-00 的屏幕截图.png"}}),t._v(" "),s("p",[t._v("根据机器人导论，在一个机器人中存在着很多个坐标系，这些坐标系之间都有距离上的差别")]),t._v(" "),s("p",[t._v("如果需要机器人进行运转就要计算坐标系之间的距离和位置计算")]),t._v(" "),s("p",[t._v("TF功能包的作用就是管理机器人中存在的所有坐标系，通过这个功能包即可以通过查询的方式来解决坐标系与坐标系之间的关系和计算")]),t._v(" "),s("p",[t._v("每个Ros节点只需要把自己已知的任何相对坐标发布出去，那么就把已知信息通过TF的函数计算后发布出去")]),t._v(" "),s("p",[s("strong",[t._v("TF功能包的实现机制：广播和监听")])]),t._v(" "),s("h3",{attrs:{id:"_2-2基本功能演示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2基本功能演示"}},[t._v("#")]),t._v(" 2.2基本功能演示")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/07/29/2JfTISBLW8tFaCk.png",alt:"2021-07-29 20-01-49 的屏幕截图.png"}}),t._v(" "),s("ul",[s("li",[s("code",[t._v("roslaunch")]),t._v("指令用于启动ROS系统中的一个launch文件，launch文件可以理解成一个脚本文件启动多个节点")])]),t._v(" "),s("p",[t._v("也就是使用该命令可以启动多个节点")]),t._v(" "),s("p",[t._v("使用结果如下：")]),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://i.loli.net/2021/07/29/rl85HPkvxezf4F6.png",alt:"2021-07-29 20-44-33 的屏幕截图.png"}}),t._v(" "),s("ul",[s("li",[t._v("使用"),s("code",[t._v("rosrun tf view_frames")]),t._v("命令，可以可视化的看到系统中所有坐标之间的关系")])]),t._v(" "),s("p",[t._v("使用该命令后，默认会在终端当前路径下生成一个pdf文件，以展示节点关系")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://i.loli.net/2021/07/29/M9uRQOJVhlSkaPm.png",alt:"2021-07-29 20-18-37 的屏幕截图.png"}}),t._v(" "),s("p",[t._v("这个pdf文件展示了坐标系之间的关系")]),t._v(" "),s("p",[t._v("如图所示，这个系统中存在三个坐标系分别是："),s("code",[t._v("world")]),t._v("、"),s("code",[t._v("turtle1")]),t._v("、"),s("code",[t._v("turtle2")])]),t._v(" "),s("p",[t._v("其中"),s("code",[t._v("world")]),t._v("坐标系是不会变的，始终作为整个系统中的"),s("strong",[t._v("零点")]),t._v("位置")]),t._v(" "),s("p",[t._v("再次案例中可以抽象为"),s("code",[t._v("turtle2")]),t._v("坐标系向"),s("code",[t._v("turtle1")]),t._v("坐标系不断作变化而靠近的关系")]),t._v(" "),s("ul",[s("li",[t._v("另外，使用tf_echo工具可以直观的看到两个坐标系之间的关系")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("rosrun tf tf_echo ***"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("坐标系名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://i.loli.net/2021/07/29/6gjcB3shwDQAm1S.png",alt:"2021-07-29 20-31-08 的屏幕截图.png"}}),t._v(" "),s("p",[t._v("如上所示：")]),t._v(" "),s("p",[s("code",[t._v("Translation")]),t._v("栏展示的是在x/y/z三轴上的平移[x, y, z]")]),t._v(" "),s("p",[s("code",[t._v("Rotation")]),t._v("栏展示的是旋转关系，分为三种方式来进行描述")]),t._v(" "),s("p",[s("code",[t._v("Quaternion")]),t._v("栏通过的是四元树的方式")]),t._v(" "),s("p",[s("code",[t._v("RPY (radian)")]),t._v("栏表示分别围绕x/y/z三轴旋转，通过弧度单位进行描述")]),t._v(" "),s("p",[s("code",[t._v("RPY (degree)")]),t._v("栏表示分别围绕x/y/z三轴旋转，通过角度单位进行描述")]),t._v(" "),s("ul",[s("li",[t._v("还可以使用"),s("code",[t._v("rosrun rviz rviz -d 'rospack find turtle_tf' /rviz/turtle_rviz.rviz")]),t._v("来观察两个坐标之间的可视化关系")])]),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://i.loli.net/2021/07/29/pCf4hIqS2JEDLji.png",alt:"2021-07-29 20-55-43 的屏幕截图.png"}}),t._v(" "),s("h2",{attrs:{id:"三、tf坐标系广播与监听"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、tf坐标系广播与监听"}},[t._v("#")]),t._v(" 三、TF坐标系广播与监听")]),t._v(" "),s("h3",{attrs:{id:"_3-1创建功能包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1创建功能包"}},[t._v("#")]),t._v(" 3.1创建功能包")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/07/30/rV6tf34BDLYZcCv.png",alt:"2021-07-30 15-39-19 的屏幕截图.png"}}),t._v(" "),s("h3",{attrs:{id:"_3-2tf广播器的创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2tf广播器的创建"}},[t._v("#")]),t._v(" 3.2TF广播器的创建")]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('/**\n * 该例程产生tf数据，并计算、发布turtle2的速度指令\n */\n#include <ros/ros.h>\n#include <tf/transform_broadcaster.h>\n#include <turtlesim/Pose.h>\n\nstd::string turtle_name;\nvoid poseCallback(const turtlesim::PoseConstPtr& msg)\n{\n\t// 创建tf的广播器\n\tstatic tf::TransformBroadcaster br;\n\t// 初始化tf数据\n\ttf::Transform transform;\n\ttransform.setOrigin( tf::Vector3(msg->x, msg->y, 0.0) );\n\ttf::Quaternion q;\n\tq.setRPY(0, 0, msg->theta);\n\ttransform.setRotation(q);\n\t// 广播world与海龟坐标系之间的tf数据\n\tbr.sendTransform(tf::StampedTransform(transform, ros::Time::now(), "world", turtle_name));\n}\n\nint main(int argc, char** argv)\n{\n    // 初始化ROS节点\n\tros::init(argc, argv, "my_tf_broadcaster");\n\t// 输入参数作为海龟的名字\n\tif (argc != 2)\n\t{\n\t\tROS_ERROR("need turtle name as argument"); \n\t\treturn -1;\n\t}\n\n\tturtle_name = argv[1];\n\t// 订阅海龟的位姿话题\n\tros::NodeHandle node;\n\tros::Subscriber sub = node.subscribe(turtle_name+"/pose", 10, &poseCallback);\n    // 循环等待回调函数\n\tros::spin();\n\treturn 0;\n};\n')])])]),s("h4",{attrs:{id:"_3-2-1代码解读"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1代码解读"}},[t._v("#")]),t._v(" 3.2.1代码解读")]),t._v(" "),s("ul",[s("li",[t._v("通过输入参数来判断海龟与世界坐标的关系")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 输入参数作为海龟的名字\nif (argc != 2)\n{\n\tROS_ERROR("need turtle name as argument"); \n\treturn -1;\n}\n')])])]),s("ul",[s("li",[t._v("创建话题订阅者，接收由海龟不断发布过来的位置消息")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 订阅海龟的位姿话题\nros::NodeHandle node;\nros::Subscriber sub = node.subscribe(turtle_name+"/pose", 10, &poseCallback);\n')])])]),s("ul",[s("li",[t._v("回调函数传入参数就是海龟的位置")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("void poseCallback(const turtlesim::PoseConstPtr& msg) {}\n")])])]),s("ul",[s("li",[t._v("创建广播器，不断将位置信息发布出去")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 创建tf的广播器\nstatic tf::TransformBroadcaster br;\n")])])]),s("ul",[s("li",[t._v("填充坐标系位置映射关系")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 初始化tf数据\ntf::Transform transform;\ntransform.setOrigin( tf::Vector3(msg->x, msg->y, 0.0) );\ntf::Quaternion q;\nq.setRPY(0, 0, msg->theta);\ntransform.setRotation(q);\n")])])]),s("ul",[s("li",[t._v("通过"),s("code",[t._v("sendTransform")]),t._v("方法广播海龟坐标与world坐标之间的关系")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 广播world与海龟坐标系之间的tf数据\nbr.sendTransform(tf::StampedTransform(transform, ros::Time::now(), "world", turtle_name));\n')])])]),s("h4",{attrs:{id:"_3-2-2流程总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2流程总结"}},[t._v("#")]),t._v(" 3.2.2流程总结")]),t._v(" "),s("p",[s("strong",[t._v("如何创建一个广播器？")])]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("定义一个TF广播器")]),t._v(" "),s("li",[t._v("创建坐标变换值")]),t._v(" "),s("li",[t._v("发布坐标变换")])])]),t._v(" "),s("h3",{attrs:{id:"_3-3tf监听器的创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3tf监听器的创建"}},[t._v("#")]),t._v(" 3.3TF监听器的创建")]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('/**\n * 该例程监听tf数据，并计算、发布turtle2的速度指令\n */\n#include <ros/ros.h>\n#include <tf/transform_listener.h>\n#include <geometry_msgs/Twist.h>\n#include <turtlesim/Spawn.h>\n\nint main(int argc, char** argv)\n{\n   // 初始化ROS节点\n   ros::init(argc, argv, "my_tf_listener");\n    // 创建节点句柄\n   ros::NodeHandle node;\n   // 请求产生turtle2\n   ros::service::waitForService("/spawn");\n   ros::ServiceClient add_turtle = node.serviceClient<turtlesim::Spawn>("/spawn");\n   turtlesim::Spawn srv;\n   add_turtle.call(srv);\n   // 创建发布turtle2速度控制指令的发布者\n   ros::Publisher turtle_vel = node.advertise<geometry_msgs::Twist>("/turtle2/cmd_vel", 10);\n   // 创建tf的监听器\n   tf::TransformListener listener;\n   ros::Rate rate(10.0);\n   while (node.ok())\n   {\n      // 获取turtle1与turtle2坐标系之间的tf数据\n      tf::StampedTransform transform;\n      try\n      {\n         listener.waitForTransform("/turtle2", "/turtle1", ros::Time(0), ros::Duration(3.0));\n         listener.lookupTransform("/turtle2", "/turtle1", ros::Time(0), transform);\n      }\n      catch (tf::TransformException &ex) \n      {\n         ROS_ERROR("%s",ex.what());\n         ros::Duration(1.0).sleep();\n         continue;\n      }\n      // 根据turtle1与turtle2坐标系之间的位置关系，发布turtle2的速度控制指令\n      geometry_msgs::Twist vel_msg;\n      vel_msg.angular.z = 4.0 * atan2(transform.getOrigin().y(),\n                                    transform.getOrigin().x());\n      vel_msg.linear.x = 0.5 * sqrt(pow(transform.getOrigin().x(), 2) +\n                                  pow(transform.getOrigin().y(), 2));\n      turtle_vel.publish(vel_msg);\n\n      rate.sleep();\n   }\n   return 0;\n};\n')])])]),s("h4",{attrs:{id:"_3-3-1代码解读"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-1代码解读"}},[t._v("#")]),t._v(" 3.3.1代码解读")]),t._v(" "),s("ul",[s("li",[t._v("创建监听器")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 创建tf的监听器\ntf::TransformListener listener;\n")])])]),s("ul",[s("li",[t._v("保存平移和旋转关系")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 获取turtle1与turtle2坐标系之间的tf数据\ntf::StampedTransform transform;\n")])])]),s("ul",[s("li",[t._v("等待变换和查询变换")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('listener.waitForTransform("/turtle2", "/turtle1", ros::Time(0), ros::Duration(3.0)); // 等待变化\nlistener.lookupTransform("/turtle2", "/turtle1", ros::Time(0), transform); // 查询变换\n')])])]),s("ul",[s("li",[t._v("根据距离查询结果移动海龟2向海龟1进行移动")])]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 根据turtle1与turtle2坐标系之间的位置关系，发布turtle2的速度控制指令\ngeometry_msgs::Twist vel_msg;\nvel_msg.angular.z = 4.0 * atan2(transform.getOrigin().y(), transform.getOrigin().x());\nvel_msg.linear.x = 0.5 * sqrt(pow(transform.getOrigin().x(), 2) + pow(transform.getOrigin().y(), 2));\nturtle_vel.publish(vel_msg);\n")])])]),s("h4",{attrs:{id:"_3-3-2流程总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2流程总结"}},[t._v("#")]),t._v(" 3.3.2流程总结")]),t._v(" "),s("p",[s("strong",[t._v("如何实现一个TF监听器？")])]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("定义TF监听器（TransformListener）")]),t._v(" "),s("li",[t._v("查找坐标变换（waitForTransform、lookupTransform）")])])]),t._v(" "),s("h3",{attrs:{id:"_3-4编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-4编译"}},[t._v("#")]),t._v(" 3.4编译")]),t._v(" "),s("div",{staticClass:"language-cmake extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cmake"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_executable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("turtle_tf_broadcaster src/turtle_tf_broadcaster.cpp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("turtle_tf_broadcaster "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("catkin_LIBRARIES"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_executable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("turtle_tf_listener src/turtle_tf_listener.cpp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("turtle_tf_listener "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("catkin_LIBRARIES"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"_3-5重映射机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-5重映射机制"}},[t._v("#")]),t._v(" 3.5重映射机制")]),t._v(" "),s("p",[t._v("为避免两个节点调用同一个方法而导致初始化节点时节点重名问题")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/07/30/alb9rjROHontN7P.png",alt:"2021-07-30 17-47-35 的屏幕截图.png"}}),t._v(" "),s("p",[t._v("如上代码中使用了"),s("code",[t._v("__name:=turtle1_tf_broadcaster")]),t._v("代码就是用来解决该问题的，这种方式被称为重映射机制")]),t._v(" "),s("p",[s("strong",[t._v("注意：是两个下划线！")])]),t._v(" "),s("p",[t._v("重映射机制的原理就是对节点的重新命名，用于取代掉程序里面初始化时的命名")]),t._v(" "),s("h2",{attrs:{id:"四、launch启动文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、launch启动文件"}},[t._v("#")]),t._v(" 四、Launch启动文件")]),t._v(" "),s("h3",{attrs:{id:"_4-1概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1概念"}},[t._v("#")]),t._v(" 4.1概念")]),t._v(" "),s("p",[t._v("Launch文件：通过XML文件实现多节点的配置和启动（可自动启动ROS Mater）")]),t._v(" "),s("p",[t._v("Launch通过XML这种文件形式实现多个节点之间的配置和启动，使用lauch后可以不用启动多个终端来进行调试")]),t._v(" "),s("p",[t._v("一个Launch文件就能启动多个节点")]),t._v(" "),s("h3",{attrs:{id:"_4-2语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2语法"}},[t._v("#")]),t._v(" 4.2语法")]),t._v(" "),s("p",[t._v("Launch文件中所有的语法都是通过xml语言进行描述的，主要由以下这些标签：")]),t._v(" "),s("h4",{attrs:{id:"_4-2-1-launch-标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-launch-标签"}},[t._v("#")]),t._v(" 4.2.1"),s("code",[t._v("<launch>")]),t._v("标签")]),t._v(" "),s("p",[t._v("launch文件中的根元素")]),t._v(" "),s("h4",{attrs:{id:"_4-2-2-node-标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-node-标签"}},[t._v("#")]),t._v(" 4.2.2"),s("code",[t._v("<node>")]),t._v("标签")]),t._v(" "),s("p",[t._v("表示启动节点，格式："),s("code",[t._v('<node pkg="package-name" type="executable-name" name="node-name">')])]),t._v(" "),s("ul",[s("li",[t._v("pkg：节点所在的功能包名称")]),t._v(" "),s("li",[t._v("type：节点的可执行文件名称")]),t._v(" "),s("li",[t._v("name：节点运行时的名称")]),t._v(" "),s("li",[t._v("output（可选）：控制节点是否是要将日志信息打印到当前终端所在目录")]),t._v(" "),s("li",[t._v("respawn（可选）：控制节点控制如果节点出现问题是否需要重启")]),t._v(" "),s("li",[t._v("required（可选）：规定节点是否一定要启动")]),t._v(" "),s("li",[t._v("ns（可选）：命名空间避免命名冲突")]),t._v(" "),s("li",[t._v("args（可选）：给每个节点输出参数")])]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/07/30/VLWpeyOFf9IDCwH.png",alt:"2021-07-30 18-35-10 的屏幕截图.png"}}),t._v(" "),s("h4",{attrs:{id:"_4-2-3-param-、-rosparam-标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-param-、-rosparam-标签"}},[t._v("#")]),t._v(" 4.2.3"),s("code",[t._v("<param>")]),t._v("、"),s("code",[t._v("<rosparam>")]),t._v("标签")]),t._v(" "),s("p",[t._v("设置ROS系统运行中的参数，储存在参数服务器中，格式："),s("code",[t._v('<param name="output_frame" value="odom"/>')])]),t._v(" "),s("ul",[s("li",[t._v("name：参数名")]),t._v(" "),s("li",[t._v("value：参数值")])]),t._v(" "),s("p",[t._v("加载参数文件中的多个参数："),s("code",[t._v('<rosparam file="params.yaml" command="load" ns="params">')])]),t._v(" "),s("h4",{attrs:{id:"_4-2-4-arg-标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-arg-标签"}},[t._v("#")]),t._v(" 4.2.4"),s("code",[t._v("<arg>")]),t._v("标签")]),t._v(" "),s("p",[t._v("launch文件内部的局部变量，仅限于launch文件使用，格式："),s("code",[t._v('<arg name="arg-name" default="arg-value"/>')])]),t._v(" "),s("ul",[s("li",[t._v("name：参数名")]),t._v(" "),s("li",[t._v("value：参数值")])]),t._v(" "),s("p",[t._v("调用：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$(arg arg-name)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("pkg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("pakage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$(arg arg-name)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),s("h4",{attrs:{id:"_4-2-5-remap-标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-5-remap-标签"}},[t._v("#")]),t._v(" 4.2.5"),s("code",[t._v("<remap>")]),t._v("标签")]),t._v(" "),s("p",[t._v("重映射ROS计算图资源的命名，格式："),s("code",[t._v('<remap from="turtlebot/cmd_vel" to="/cmd_vel" />')])]),t._v(" "),s("ul",[s("li",[t._v("from：原命名")]),t._v(" "),s("li",[t._v("to：映射之后的命名")])]),t._v(" "),s("h4",{attrs:{id:"_4-2-6-include-标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-6-include-标签"}},[t._v("#")]),t._v(" 4.2.6"),s("code",[t._v("<include>")]),t._v("标签")]),t._v(" "),s("p",[t._v("包含其他launch文件，类似C语言中的头文件包含，格式："),s("include",{attrs:{file:"$(dirname)/other.launch"}})],1),t._v(" "),s("ul",[s("li",[t._v("file：包含的其他launch文件路径")])]),t._v(" "),s("h3",{attrs:{id:"_4-3使用方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3使用方法"}},[t._v("#")]),t._v(" 4.3使用方法")]),t._v(" "),s("h4",{attrs:{id:"_4-3-1launch文件创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1launch文件创建"}},[t._v("#")]),t._v(" 4.3.1Launch文件创建")]),t._v(" "),s("p",[t._v("和创建其他功能包一样，在src文件下创建一个专用于存放launch相关文件的功能包")]),t._v(" "),s("p",[t._v("进入该文件夹后创建一个名为launch的文件夹，用于存放launch文件")]),t._v(" "),s("p",[t._v("文件范例1：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("launch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Turtlesim Node--\x3e")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("pkg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtlesim"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtlesim_node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("sim"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("pkg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtlesim"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle_teleop_key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("teleop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("output")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("screen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("pkg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("learning_tf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle_tf_broadcaster"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/turtle1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle1_tf_broadcaster"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("pkg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("learning_tf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle_tf_broadcaster"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/turtle2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle2_tf_broadcaster"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("pkg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("learning_tf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle_tf_listener"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("listener"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("launch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("文件范例2：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("launch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/turtle_number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("   "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("pkg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtlesim"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtlesim_node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtlesim_node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle_name1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("   "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Tom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle_name2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("   "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Jerry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("rosparam")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$(find learning_launch)/config/param.yaml"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("command")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("load"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("node")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("pkg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtlesim"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle_teleop_key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("turtle_teleop_key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("output")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("screen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("launch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h4",{attrs:{id:"_4-3-2launch文件启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2launch文件启动"}},[t._v("#")]),t._v(" 4.3.2Launch文件启动")]),t._v(" "),s("p",[t._v("首先还是需要对文件进行相关的编译")]),t._v(" "),s("p",[t._v("使用roslaunch命令，用于专门启动launch文件，命令格式：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("roslaunch ***"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("功能包名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ***"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("launch文件名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);