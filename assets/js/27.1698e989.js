(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{522:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"一、概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、概述"}},[t._v("#")]),t._v(" 一、概述")]),t._v(" "),a("p",[t._v("基本概念：通过编写程序，"),a("strong",[t._v("模拟浏览器上网")]),t._v("，让其去互联网上抓取数据的过程")]),t._v(" "),a("p",[t._v("通过爬取数据对数据进行产品化，商业化，深度挖掘数据中的隐藏价值")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("爬虫合法性")]),t._v(" "),a("ul",[a("li",[t._v("在法律中并不被禁止")]),t._v(" "),a("li",[t._v("具有一定的法律风险")]),t._v(" "),a("li",[t._v("违法：爬虫干扰了被访问网站的正常运行")]),t._v(" "),a("li",[t._v("违法：爬虫抓取了被法律保护的特定类型数据或信息")])])]),a("p",[t._v("爬虫的分类：")]),t._v(" "),a("ul",[a("li",[t._v("通用爬虫：抓取系统重要组成部分，抓取的是一整张页面中的数据")]),t._v(" "),a("li",[t._v("聚焦爬虫：是建立在通用爬虫的基础之上的，抓取的是页面中特定的局部内容")]),t._v(" "),a("li",[t._v("增量式爬虫：检测网站中数据的更新情况，只会抓取网站中最新更新出来的数据")])]),t._v(" "),a("p",[a("strong",[t._v("robots.txt协议")]),t._v("：君子协议，说明了网站上哪些数据可以爬取，哪些数据不可以被爬取")]),t._v(" "),a("h2",{attrs:{id:"二、http和https协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、http和https协议"}},[t._v("#")]),t._v(" 二、http和https协议")]),t._v(" "),a("p",[t._v("http协议：指的就是客户端与服务器进行数据交互的一种形式")]),t._v(" "),a("h3",{attrs:{id:"_1、常用请求头信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、常用请求头信息"}},[t._v("#")]),t._v(" 1、常用请求头信息")]),t._v(" "),a("ul",[a("li",[t._v("User-Agent：表示请求载体的身份标识")]),t._v(" "),a("li",[t._v("Connection：表示成功之后是断开连接还是保持连接（Close、Keep-alive）")])]),t._v(" "),a("h3",{attrs:{id:"_2、常用响应头信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、常用响应头信息"}},[t._v("#")]),t._v(" 2、常用响应头信息")]),t._v(" "),a("ul",[a("li",[t._v("Connect-Type：服务器响应回客户端的数据类型")])]),t._v(" "),a("h3",{attrs:{id:"_3、https和http之间的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、https和http之间的区别"}},[t._v("#")]),t._v(" 3、Https和Http之间的区别")]),t._v(" "),a("p",[t._v("Https表示安全的超文本传输协议，在客户端、服务端进行数据交互时涉及到了数据加密")]),t._v(" "),a("p",[t._v("涉及加密方式：①对称密钥加密；②非对称密钥加密；③证书密钥加密")]),t._v(" "),a("h2",{attrs:{id:"三、request模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、request模块"}},[t._v("#")]),t._v(" 三、Request模块")]),t._v(" "),a("p",[t._v("python中原生的一款基于网络请求的模块，功能强大，简单便捷，效率极高。")]),t._v(" "),a("p",[a("strong",[t._v("作用：模拟浏览器发起请求")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("使用流程：")]),t._v(" "),a("ul",[a("li",[t._v("指定URL")]),t._v(" "),a("li",[t._v("向指定网址发送请求")]),t._v(" "),a("li",[t._v("获取响应数据")]),t._v(" "),a("li",[t._v("持久化存储响应数据")])])]),a("p",[t._v("环境安装："),a("code",[t._v("pip install requests")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1、导入模块")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" requests\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2、指定URL")]),t._v("\n    url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.sogou.com/'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 3、发起请求(get方法会获取一个响应对象)")]),t._v("\n    response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 4、获取响应数据(.text返回一组字符串)")]),t._v("\n    page_text "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("page_text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 5、持久化存储")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./sogou.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'w'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" encoding"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("page_text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Success!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_1、ua伪装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、ua伪装"}},[t._v("#")]),t._v(" 1、UA伪装")]),t._v(" "),a("p",[t._v("UA伪装指的就是User-Agent（请求载体的身份标识）这个请求头")]),t._v(" "),a("p",[a("strong",[t._v("UA检测")]),t._v("：门户网站的服务器会检测对应请求载体的身份标识，如果检测到请求的载体身份标识为一款浏览器，表明属于正常请求；如果请求的载体身份标识不是基于某一款浏览器的，则表示该请求不正常")]),t._v(" "),a("p",[a("strong",[t._v("UA伪装")]),t._v("：将对应的User-Agent封装到一个字典中")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" requests\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# UA伪装")]),t._v("\n    headers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'User-Agent'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定URL")]),t._v("\n    url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.sogou.com/web'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 处理携带参数")]),t._v("\n    kw "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("input")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Enter a word: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    param "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'query'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" kw\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过字典形式封装参数，动态拼接在url后面")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# headers表示所携带头信息")]),t._v("\n    response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    page_text "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text\n    fileName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" kw "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.html'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'result/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" fileName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'w'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" encoding"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("page_text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Success!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);